<p-toast position="center" key="t1" life="5000" (onClose)="redirect()"></p-toast>

<div class="section p-mt-6 p-mx-auto">
	<div class="container">
		<div class="columns is-vcentered ">
			<div class="column p-d-none p-d-md-block">
				<figure class="image is-256x256">
					<img alt="Card" src="../../../assets/images/bingo-woman.png">
				</figure>
			</div>
			<div class="column">
				<div class="tile has-text-centered is-transparent" xyz="origin-center short-100 duration-10">
					<div *ngIf=showFormUser >
						<p-card header="Registrate como nuevo usuario" [style]="{width: '25em'} "
							styleClass="p-card-shadow" class="p-fluid p-grid">
							<p-header>
							</p-header>
							<form [formGroup]="newUserForm" novalidate class="p-mx-1">
								<div class="p-text-left ">
									<label for="email">Correo</label>
								</div>

								<div class="p-col-12">
									<input name="email" type="email" pInputText formControlName="email"
										[email]="true" />
									<ng-container *ngIf="email.errors && email.touched">
										<small *ngIf="email.hasError('required')" id="username-required"
											class="p-invalid">Correo Requerido.</small>
										<small *ngIf="email.hasError('email')" id="email-format"
											class="p-invalid">Formato de email Inavalido.</small>
										<small *ngIf="email.hasError('notAvailable')" id="email-tomado"
											class="p-invalid">Email ya registrado</small>
									</ng-container>

								</div>
								<!-- <div class="p-text-right p-col-1">
									<h2>(*)</h2>
								</div> -->


								<div class="p-text-left">
									<label for="passUser" class="p-text-left">Contraseña</label>
								</div>
								<div class="p-field p-col-12">
									<!-- <input name="password" pInputText type="password" formControlName="pass"
										icon="pi pi-check" /> -->
									<input name="password" pPassword type="password" promptLabel="" weakLabel="Debil"
										formControlName="pass" icon="pi pi-check" />
									<ng-container *ngIf="pass.errors && pass.touched && pass.dirty">
										<small *ngIf="pass.hasError('required')" id="pass-required"
											class="p-invalid">Contraseña requerida</small>
										<small *ngIf="pass.hasError('minlength')" id="pass-minimun"
											class="p-invalid">Contraseña minimo 8 caracteres</small>
										<small *ngIf="pass.hasError('pattern')" id="pass-minimun"
											class="p-invalid">Contraseña debe contener numeros, letras y un simbolo como
											. - ? * - </small>
									</ng-container>
								</div>

								<!-- 	<div class="p-text-right p-col-1">
									<h2>(*)</h2>
								</div> -->

								<div class="p-text-left">
									<label for="passUser" class="p-text-left">Repita su contraseña</label>
								</div>
								<div class="p-field p-col-12">
									<input name="repeat_password" pInputText type="password"
										formControlName="repeat_password" />
									<ng-container *ngIf="repeat_password.errors && repeat_password.touched">
										<small *ngIf="repeat_password.hasError('notEquals')" id="repeat-notiequals"
											class="p-invalid">La confirmación no coincide </small>
									</ng-container>
								</div>

								<div class="p-field-checkbox p-col-12">
									<p-checkbox id="declaro" [binary]="true" formControlName="declaro"
										(onChange)="aceptarCondi($event)"></p-checkbox>
									<label for="declaro" class="p-checkbox-label">Declaro estar de acuerdo con las
										condiciones del
										sitio</label>
								</div>
								<div *ngIf=showForm>
									{{confirmationCode}}
									<div class="p-text-left">
										<label for="codigo">ATENCIÓN: Revisa Tu email, has recibido un codigo de
											validación</label>
									</div>
									<div class="p-field p-col-12">
										<div class="p-inputgroup">
											<span class="p-inputgroup-addon"><i class="pi pi-key"></i></span>
											<input type="text" pInputText formControlName="codigoRecived"
												placeholder="Ingresa el código recibido">
											<ng-container
												*ngIf="codigoRecived.errors && codigoRecived.touched && codigoRecived.dirty">
												<div class="p-text-left">
													<small *ngIf="codigoRecived.hasError('notEqualsCode')"
														id="notequalscode" class="p-invalid">El codigo no coincide con
														el
														enviado </small>
												</div>

											</ng-container>

										</div>
									</div>
								</div>
							</form>

							<ng-template pTemplate="footer">
								<p-button label="Registrate" [disabled]="newUserForm.invalid"
									(click)="registarUsuario()" icon="pi pi-pencil"></p-button>
								<div class="p-pt-3">
									<a (click)="goLogin()">Ya estoy registrado, Iniciar sesión</a>
								</div>
							</ng-template>

						</p-card>
					</div>
					<!-- 	<ng-container *ngIf=showFormCliente class="xyz-in"> -->
					<div *ngIf=showFormCliente class="xyz-in">
						<form [formGroup]="newClienteForm" novalidate>
							<p-card header="Casi estas listo" subheader="Solo ingresa un par de datos mas..."
								[style]="{width: '25em'} " styleClass="p-card-shadow" class="p-fluid">
								<p-header>
								</p-header>
								<div class="p-text-left">
									<label for="codigo">Nickname o nombre de usuario</label>
								</div>
								<div class="p-field p-col-12">
									<input name="nickname" pInputText type="text" formControlName="nickname"
										icon="pi pi-check" />
									<ng-container *ngIf="nickname.errors && nickname.touched && nickname.dirty">
										<small *ngIf="nickname.hasError('required')" id="pass-required"
											class="p-invalid">Nickname requerido</small>
									</ng-container>
								</div>
								<div class="p-text-left">
									<label for="codigo">Nombre Completo</label>
								</div>
								<div class="p-field p-col-12">
									<input name="nombreCompleto" pInputText type="text" formControlName="nombreCompleto"
										icon="pi pi-check" />
								</div>
								<div class="p-text-left">
									<label for="codigo">Dirección de Correo</label>
								</div>
								<div class="p-field p-col-12">
									<input name="direccion" pInputText type="text" formControlName="direccion"
										icon="pi pi-check" />
								</div>
								<div class="p-text-left">
									<label for="codigo">Telefono</label>
								</div>
								<div class="p-field p-col-12">
									<input name="telefono" pInputText type="text" formControlName="telefono"
										icon="pi pi-check" />
								</div>

								<p-footer>
									<p-button label="Culminar Registro" icon="pi pi-check" (click)="registrarFull()">
									</p-button>
								</p-footer>
							</p-card>
						</form>
					</div>

				</div>
			</div>
		</div>


	</div>
</div>